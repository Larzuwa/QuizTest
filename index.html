<!DOCTYPE html>
<html>
<head>
    <title>Quiz</title>
</head>
<body>
    <h1>Online Quiz</h1>
    <div id="quiz-section">
        <p>What is \(e=mc^{2}\) an equation for?</p>
        <input type="radio" name="answer" value="Wrong"> Gravity<br>
        <input type="radio" name="answer" value="Correct"> Energy-Mass equivalence<br>
        <input type="radio" name="answer" value="Wrong"> Quantum mechanics<br>
    </div>
    <button onclick="checkAnswer()">Submit</button>
    <div id="result"></div>

    <script>
    async function checkAnswer() {
        let answers = document.getElementsByName('answer');
        for (let i = 0; i < answers.length; i++) {
          if (answers[i].checked && answers[i].value === 'Correct') {
            let username = prompt("You've got it right! Enter your name for the rankings:");
            const response = await fetch('/.netlify/functions/saveRanking', {
              method: 'POST',
              body: JSON.stringify({ name: username, score: 1 })
            });
            const updatedRankings = await response.json();
            updateRankings(updatedRankings);
            return;
          }
        }
        document.getElementById('result').innerText = "Wrong Answer!";
      }
    </script>

</body>
</html>
